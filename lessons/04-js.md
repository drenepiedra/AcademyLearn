# Guía Completa de JavaScript con Ejemplos

## Tabla de Contenidos

1. [Introducción a JavaScript](#introducción-a-javascript)
2. [Variables y Tipos de Datos](#variables-y-tipos-de-datos)
3. [Operadores](#operadores)
4. [Estructuras de Control](#estructuras-de-control)
5. [Funciones](#funciones)
6. [Arrays (Arreglos)](#arrays-arreglos)
7. [Objetos](#objetos)
8. [Strings (Cadenas)](#strings-cadenas)
9. [DOM Manipulation](#dom-manipulation)
10. [Eventos](#eventos)
11. [ES6+ Características](#es6-características)
12. [Asincronía](#asincronía)
13. [Programación Orientada a Objetos](#programación-orientada-a-objetos)
14. [Módulos](#módulos)
15. [JSON](#json)
16. [Manejo de Errores](#manejo-de-errores)
17. [APIs del Navegador](#apis-del-navegador)
18. [Buenas Prácticas](#buenas-prácticas)

---

## Introducción a JavaScript

JavaScript es un lenguaje de programación que permite crear contenido dinámico e interactivo en páginas web. Es uno de los tres pilares del desarrollo web junto con HTML y CSS.

### Formas de Incluir JavaScript

**1. JavaScript Inline (en línea)**

```html
<button onclick="alert('¡Hola!')">Haz clic</button>
```

**2. JavaScript Interno**

```html
<!DOCTYPE html>
<html>
  <head>
    <title>Mi Página</title>
  </head>
  <body>
    <h1>Hola Mundo</h1>

    <script>
      console.log("JavaScript interno");
      alert("¡Hola desde JavaScript!");
    </script>
  </body>
</html>
```

**3. JavaScript Externo (Recomendado)**

```html
<!DOCTYPE html>
<html>
  <head>
    <title>Mi Página</title>
  </head>
  <body>
    <h1>Hola Mundo</h1>

    <!-- Al final del body para mejor rendimiento -->
    <script src="script.js"></script>

    <!-- O con defer en el head -->
    <script
      src="script.js"
      defer></script>
  </body>
</html>
```

### Comentarios

```javascript
// Este es un comentario de una línea

/*
   Este es un comentario
   de múltiples líneas
*/

/**
 * Comentario de documentación (JSDoc)
 * @param {string} nombre - El nombre del usuario
 * @returns {string} Saludo personalizado
 */
```

### Console

```javascript
// Diferentes tipos de console
console.log("Mensaje normal");
console.error("Mensaje de error");
console.warn("Mensaje de advertencia");
console.info("Mensaje informativo");
console.table([
  { nombre: "Ana", edad: 25 },
  { nombre: "Juan", edad: 30 },
]);
console.clear(); // Limpia la consola
console.time("timer"); // Inicia un temporizador
console.timeEnd("timer"); // Termina y muestra el tiempo
```

---

## Variables y Tipos de Datos

### Declaración de Variables

```javascript
// var (antigua forma, evitar en código moderno)
var nombre = "Juan";
var edad = 25;

// let (variable que puede cambiar)
let ciudad = "Madrid";
ciudad = "Barcelona"; // Puedes reasignar

// const (constante, no puede cambiar)
const PI = 3.14159;
const pais = "España";
// pais = "México"; // Error: no puedes reasignar una constante

// Declaración múltiple
let x = 5,
  y = 10,
  z = 15;

// Sin declaración (evitar, crea variable global)
sinDeclarar = "mal"; // No recomendado
```

### Tipos de Datos Primitivos

```javascript
// String (cadena de texto)
let texto = "Hola";
let texto2 = "Mundo";
let texto3 = `Template literal con ${texto}`; // Interpolación

// Number (número)
let entero = 42;
let decimal = 3.14;
let negativo = -10;
let cientifico = 2.5e6; // 2.5 * 10^6
let infinito = Infinity;
let noEsNumero = NaN; // Not a Number

// Boolean (booleano)
let verdadero = true;
let falso = false;

// Undefined (indefinido)
let sinValor;
console.log(sinValor); // undefined

// Null (nulo)
let vacio = null;

// Symbol (único e inmutable) - ES6
let simbolo = Symbol("descripcion");
let simbolo2 = Symbol("descripcion");
console.log(simbolo === simbolo2); // false, cada Symbol es único

// BigInt (números enteros muy grandes) - ES2020
let numeroGrande = 9007199254740991n;
let otroGrande = BigInt("9007199254740991");
```

### Tipos de Datos de Referencia

```javascript
// Array (arreglo)
let frutas = ["manzana", "naranja", "plátano"];

// Object (objeto)
let persona = {
  nombre: "Ana",
  edad: 25,
  ciudad: "Madrid",
};

// Function (función)
function saludar() {
  return "Hola";
}

// Date (fecha)
let fecha = new Date();
```

### Verificar Tipos

```javascript
// typeof - operador para verificar tipo
console.log(typeof "texto"); // "string"
console.log(typeof 42); // "number"
console.log(typeof true); // "boolean"
console.log(typeof undefined); // "undefined"
console.log(typeof null); // "object" (quirk de JS)
console.log(typeof {}); // "object"
console.log(typeof []); // "object"
console.log(typeof function () {}); // "function"

// instanceof - verifica si es instancia de un objeto
console.log([] instanceof Array); // true
console.log({} instanceof Object); // true
console.log(new Date() instanceof Date); // true

// Array.isArray() - verifica si es array
console.log(Array.isArray([])); // true
console.log(Array.isArray({})); // false
```

### Conversión de Tipos

```javascript
// String a Number
let str = "123";
let num1 = Number(str); // 123
let num2 = parseInt(str); // 123
let num3 = parseFloat("3.14"); // 3.14
let num4 = +str; // 123 (conversión con +)

// Number a String
let numero = 123;
let str1 = String(numero); // "123"
let str2 = numero.toString(); // "123"
let str3 = "" + numero; // "123"

// Boolean a Number
let bool = true;
console.log(Number(bool)); // 1
console.log(Number(false)); // 0

// Cualquier valor a Boolean
console.log(Boolean(1)); // true
console.log(Boolean(0)); // false
console.log(Boolean("")); // false
console.log(Boolean("texto")); // true
console.log(Boolean(null)); // false
console.log(Boolean(undefined)); // false

// Valores falsy (se evalúan como false)
// false, 0, -0, "", null, undefined, NaN

// Valores truthy (se evalúan como true)
// Todo lo demás, incluyendo: "0", "false", [], {}, function(){}
```

---

## Operadores

### Operadores Aritméticos

```javascript
let a = 10;
let b = 3;

console.log(a + b); // 13 - Suma
console.log(a - b); // 7  - Resta
console.log(a * b); // 30 - Multiplicación
console.log(a / b); // 3.333... - División
console.log(a % b); // 1  - Módulo (residuo)
console.log(a ** b); // 1000 - Exponenciación (10^3)

// Incremento y Decremento
let x = 5;
x++; // x = 6 (post-incremento)
++x; // x = 7 (pre-incremento)
x--; // x = 6 (post-decremento)
--x; // x = 5 (pre-decremento)

// Diferencia entre pre y post
let y = 5;
console.log(y++); // 5 (muestra 5, luego incrementa)
console.log(y); // 6

let z = 5;
console.log(++z); // 6 (incrementa, luego muestra)
console.log(z); // 6
```

### Operadores de Asignación

```javascript
let x = 10;

x += 5; // x = x + 5  (15)
x -= 3; // x = x - 3  (12)
x *= 2; // x = x * 2  (24)
x /= 4; // x = x / 4  (6)
x %= 4; // x = x % 4  (2)
x **= 3; // x = x ** 3 (8)

// Asignación con operadores lógicos (ES2020)
let a = null;
a ??= 10; // a = 10 (asigna solo si a es null o undefined)

let b = 0;
b ||= 5; // b = 5 (asigna si b es falsy)

let c = 1;
c &&= 2; // c = 2 (asigna si c es truthy)
```

### Operadores de Comparación

```javascript
let a = 5;
let b = "5";

// Igualdad
console.log(a == b); // true (compara valor, convierte tipos)
console.log(a === b); // false (compara valor y tipo)

// Desigualdad
console.log(a != b); // false
console.log(a !== b); // true

// Mayor y Menor
console.log(a > 3); // true
console.log(a < 10); // true
console.log(a >= 5); // true
console.log(a <= 5); // true

// Comparaciones con strings
console.log("a" < "b"); // true (orden alfabético)
console.log("10" < "9"); // true (compara como strings, no números)
```

### Operadores Lógicos

```javascript
let x = true;
let y = false;

// AND (&&) - ambos deben ser true
console.log(x && y); // false
console.log(true && true); // true

// OR (||) - al menos uno debe ser true
console.log(x || y); // true
console.log(false || false); // false

// NOT (!) - invierte el valor
console.log(!x); // false
console.log(!y); // true

// Cortocircuito
let resultado = false && funcionCostosa(); // No ejecuta funcionCostosa()
let valor = null || "default"; // "default"

// Operadores lógicos con valores no booleanos
console.log(5 && 10); // 10 (retorna el último valor truthy)
console.log(0 || 100); // 100 (retorna el primer valor truthy)
console.log(null ?? 50); // 50 (Nullish coalescing, solo null/undefined)
```

### Operador Ternario

```javascript
// condición ? valorSiTrue : valorSiFalse
let edad = 20;
let mensaje = edad >= 18 ? "Adulto" : "Menor";
console.log(mensaje); // "Adulto"

// Ternarios anidados
let nota = 85;
let calificacion = nota >= 90 ? "A" : nota >= 80 ? "B" : nota >= 70 ? "C" : "F";
console.log(calificacion); // "B"

// Uso práctico
let usuario = null;
let nombreUsuario = usuario ? usuario.nombre : "Invitado";
```

### Operadores de Cadena

```javascript
// Concatenación
let nombre = "Juan";
let apellido = "Pérez";
let nombreCompleto = nombre + " " + apellido; // "Juan Pérez"

// Con números
console.log("5" + 3); // "53" (concatena)
console.log("5" - 3); // 2 (resta, convierte a número)

// Template literals (mejor opción)
let edad = 25;
let mensaje = `Hola, soy ${nombre} y tengo ${edad} años`;
```

### Operadores Especiales

```javascript
// typeof
console.log(typeof 42); // "number"
console.log(typeof "texto"); // "string"

// delete (elimina propiedades de objetos)
let obj = { a: 1, b: 2 };
delete obj.a;
console.log(obj); // {b: 2}

// in (verifica si propiedad existe)
console.log("b" in obj); // true
console.log("a" in obj); // false

// instanceof
let arr = [];
console.log(arr instanceof Array); // true

// void (evalúa expresión y retorna undefined)
console.log(void 0); // undefined

// Operador de coma
let x = (1, 2, 3); // x = 3 (retorna el último)
```

---

## Estructuras de Control

### if / else if / else

```javascript
// if básico
let edad = 18;
if (edad >= 18) {
  console.log("Eres adulto");
}

// if-else
let temperatura = 25;
if (temperatura > 30) {
  console.log("Hace calor");
} else {
  console.log("Temperatura agradable");
}

// if-else if-else
let nota = 85;
if (nota >= 90) {
  console.log("Excelente");
} else if (nota >= 80) {
  console.log("Muy bien");
} else if (nota >= 70) {
  console.log("Bien");
} else if (nota >= 60) {
  console.log("Suficiente");
} else {
  console.log("Insuficiente");
}

// if con múltiples condiciones
let edad2 = 20;
let tieneLicencia = true;
if (edad2 >= 18 && tieneLicencia) {
  console.log("Puedes conducir");
}

// if anidados
let esFinDeSemana = true;
let tieneDinero = true;
if (esFinDeSemana) {
  if (tieneDinero) {
    console.log("¡Vamos de compras!");
  } else {
    console.log("Quedémonos en casa");
  }
}
```

### switch

```javascript
// switch básico
let dia = 3;
switch (dia) {
  case 1:
    console.log("Lunes");
    break;
  case 2:
    console.log("Martes");
    break;
  case 3:
    console.log("Miércoles");
    break;
  case 4:
    console.log("Jueves");
    break;
  case 5:
    console.log("Viernes");
    break;
  case 6:
  case 7:
    console.log("Fin de semana");
    break;
  default:
    console.log("Día inválido");
}

// switch con strings
let fruta = "manzana";
switch (fruta) {
  case "manzana":
    console.log("Las manzanas cuestan $1");
    break;
  case "naranja":
    console.log("Las naranjas cuestan $0.5");
    break;
  default:
    console.log("No tenemos esa fruta");
}

// switch sin break (fall-through intencional)
let mes = 2;
let dias;
switch (mes) {
  case 1:
  case 3:
  case 5:
  case 7:
  case 8:
  case 10:
  case 12:
    dias = 31;
    break;
  case 4:
  case 6:
  case 9:
  case 11:
    dias = 30;
    break;
  case 2:
    dias = 28;
    break;
  default:
    dias = 0;
}
```

### Bucle for

```javascript
// for básico
for (let i = 0; i < 5; i++) {
  console.log(i); // 0, 1, 2, 3, 4
}

// Contar hacia atrás
for (let i = 5; i > 0; i--) {
  console.log(i); // 5, 4, 3, 2, 1
}

// Incremento de 2 en 2
for (let i = 0; i < 10; i += 2) {
  console.log(i); // 0, 2, 4, 6, 8
}

// Múltiples variables
for (let i = 0, j = 10; i < 5; i++, j--) {
  console.log(`i: ${i}, j: ${j}`);
}

// Recorrer array
let frutas = ["manzana", "naranja", "plátano"];
for (let i = 0; i < frutas.length; i++) {
  console.log(frutas[i]);
}

// for anidado (tabla de multiplicar)
for (let i = 1; i <= 3; i++) {
  for (let j = 1; j <= 3; j++) {
    console.log(`${i} x ${j} = ${i * j}`);
  }
}
```

### Bucle while

```javascript
// while básico
let i = 0;
while (i < 5) {
  console.log(i);
  i++;
}

// while con condición compleja
let intentos = 0;
let exito = false;
while (intentos < 3 && !exito) {
  console.log(`Intento ${intentos + 1}`);
  // Lógica para verificar éxito
  intentos++;
}

// Bucle infinito (usar con cuidado)
// while (true) {
//     // Se ejecuta indefinidamente
//     // Necesita un break para salir
// }
```

### Bucle do...while

```javascript
// Se ejecuta al menos una vez
let i = 0;
do {
  console.log(i);
  i++;
} while (i < 5);

// Útil para menús o validaciones
let opcion;
do {
  console.log("Menú:");
  console.log("1. Opción 1");
  console.log("2. Opción 2");
  console.log("0. Salir");
  // opcion = prompt("Elige una opción:");
} while (opcion !== "0");
```

### for...in (para objetos)

```javascript
// Itera sobre las propiedades de un objeto
let persona = {
  nombre: "Ana",
  edad: 25,
  ciudad: "Madrid",
};

for (let propiedad in persona) {
  console.log(`${propiedad}: ${persona[propiedad]}`);
}
// nombre: Ana
// edad: 25
// ciudad: Madrid

// También funciona con arrays (pero no es recomendado)
let colores = ["rojo", "verde", "azul"];
for (let indice in colores) {
  console.log(colores[indice]);
}
```

### for...of (para iterables)

```javascript
// Itera sobre valores de arrays, strings, Maps, Sets, etc.
let frutas = ["manzana", "naranja", "plátano"];
for (let fruta of frutas) {
  console.log(fruta);
}

// Con strings
let texto = "Hola";
for (let letra of texto) {
  console.log(letra); // H, o, l, a
}

// Con índices usando entries()
for (let [indice, fruta] of frutas.entries()) {
  console.log(`${indice}: ${fruta}`);
}
```

### break y continue

```javascript
// break: sale del bucle
for (let i = 0; i < 10; i++) {
  if (i === 5) {
    break; // Sale del bucle cuando i es 5
  }
  console.log(i); // 0, 1, 2, 3, 4
}

// continue: salta a la siguiente iteración
for (let i = 0; i < 5; i++) {
  if (i === 2) {
    continue; // Salta cuando i es 2
  }
  console.log(i); // 0, 1, 3, 4
}

// Con etiquetas (labels)
externo: for (let i = 0; i < 3; i++) {
  for (let j = 0; j < 3; j++) {
    if (i === 1 && j === 1) {
      break externo; // Sale de ambos bucles
    }
    console.log(`i: ${i}, j: ${j}`);
  }
}
```

---

## Funciones

### Declaración de Funciones

```javascript
// Función declarada
function saludar() {
  console.log("¡Hola!");
}
saludar(); // Llamada a la función

// Función con parámetros
function saludarPersona(nombre) {
  console.log(`¡Hola, ${nombre}!`);
}
saludarPersona("Ana"); // ¡Hola, Ana!

// Función con múltiples parámetros
function sumar(a, b) {
  return a + b;
}
let resultado = sumar(5, 3); // 8

// Función con valor de retorno
function multiplicar(a, b) {
  return a * b;
}
console.log(multiplicar(4, 5)); // 20

// Parámetros por defecto
function saludarConDefault(nombre = "Invitado") {
  console.log(`¡Hola, ${nombre}!`);
}
saludarConDefault(); // ¡Hola, Invitado!
saludarConDefault("Juan"); // ¡Hola, Juan!

// Múltiples valores por defecto
function crearUsuario(nombre = "Usuario", edad = 18, pais = "España") {
  return { nombre, edad, pais };
}
```

### Expresiones de Función

```javascript
// Función anónima asignada a variable
const saludar = function () {
  console.log("Hola desde expresión");
};
saludar();

// Con parámetros
const sumar = function (a, b) {
  return a + b;
};
console.log(sumar(10, 5)); // 15

// Función nombrada dentro de expresión (útil para recursión)
const factorial = function fact(n) {
  if (n <= 1) return 1;
  return n * fact(n - 1);
};
console.log(factorial(5)); // 120
```

### Funciones Flecha (Arrow Functions) - ES6

```javascript
// Sintaxis básica
const saludar = () => {
  console.log("Hola");
};

// Con un parámetro (paréntesis opcionales)
const saludarPersona = (nombre) => {
  console.log(`Hola, ${nombre}`);
};

// Con múltiples parámetros
const sumar = (a, b) => {
  return a + b;
};

// Return implícito (una línea)
const multiplicar = (a, b) => a * b;
console.log(multiplicar(4, 5)); // 20

// Retornar objeto (necesita paréntesis)
const crearPersona = (nombre, edad) => ({ nombre, edad });
console.log(crearPersona("Ana", 25)); // {nombre: "Ana", edad: 25}

// Sin parámetros
const obtenerFechaActual = () => new Date();

// Casos de uso comunes
const numeros = [1, 2, 3, 4, 5];
const dobles = numeros.map((n) => n * 2); // [2, 4, 6, 8, 10]
const pares = numeros.filter((n) => n % 2 === 0); // [2, 4]
```

### Funciones como Argumentos (Callbacks)

```javascript
// Callback básico
function ejecutarOperacion(a, b, operacion) {
  return operacion(a, b);
}

const resultado1 = ejecutarOperacion(5, 3, (x, y) => x + y); // 8
const resultado2 = ejecutarOperacion(5, 3, (x, y) => x * y); // 15

// Callback en arrays
const numeros = [1, 2, 3, 4, 5];

numeros.forEach(function (numero) {
  console.log(numero * 2);
});

// Con arrow function
numeros.forEach((numero) => console.log(numero * 2));

// Callbacks asíncronos (setTimeout)
setTimeout(() => {
  console.log("Esto se ejecuta después de 2 segundos");
}, 2000);
```

### Funciones de Orden Superior

```javascript
// Función que retorna otra función
function crearMultiplicador(factor) {
  return function (numero) {
    return numero * factor;
  };
}

const duplicar = crearMultiplicador(2);
const triplicar = crearMultiplicador(3);

console.log(duplicar(5)); // 10
console.log(triplicar(5)); // 15

// Con arrow functions
const crearSumador = (valor) => (numero) => numero + valor;
const sumar10 = crearSumador(10);
console.log(sumar10(5)); // 15
```

### Parámetros Rest

```javascript
// Rest parameters: captura argumentos restantes en un array
function sumarTodos(...numeros) {
  return numeros.reduce((total, num) => total + num, 0);
}

console.log(sumarTodos(1, 2, 3)); // 6
console.log(sumarTodos(1, 2, 3, 4, 5)); // 15

// Combinado con parámetros normales
function presentar(saludo, ...nombres) {
  return `${saludo} ${nombres.join(", ")}`;
}

console.log(presentar("Hola", "Ana", "Juan", "Pedro"));
// "Hola Ana, Juan, Pedro"
```

### Spread Operator

```javascript
// Expandir arrays
const numeros1 = [1, 2, 3];
const numeros2 = [4, 5, 6];
const combinados = [...numeros1, ...numeros2]; // [1,2,3,4,5,6]

// Copiar arrays
const original = [1, 2, 3];
const copia = [...original];

// Pasar array como argumentos
function sumar(a, b, c) {
  return a + b + c;
}
const nums = [1, 2, 3];
console.log(sumar(...nums)); // 6

// Con objetos
const persona = { nombre: "Ana", edad: 25 };
const personaCompleta = { ...persona, ciudad: "Madrid" };
// {nombre: "Ana", edad: 25, ciudad: "Madrid"}
```

### Closure (Clausura)

```javascript
// Las funciones internas tienen acceso a variables externas
function crearContador() {
  let cuenta = 0;

  return {
    incrementar: function () {
      cuenta++;
      return cuenta;
    },
    decrementar: function () {
      cuenta--;
      return cuenta;
    },
    obtenerValor: function () {
      return cuenta;
    },
  };
}

const contador = crearContador();
console.log(contador.incrementar()); // 1
console.log(contador.incrementar()); // 2
console.log(contador.decrementar()); // 1
console.log(contador.obtenerValor()); // 1

// Ejemplo práctico: variables privadas
function crearBanco() {
  let saldo = 0;

  return {
    depositar: function (cantidad) {
      saldo += cantidad;
      return `Depositado: ${cantidad}. Saldo: ${saldo}`;
    },
    retirar: function (cantidad) {
      if (cantidad > saldo) {
        return "Fondos insuficientes";
      }
      saldo -= cantidad;
      return `Retirado: ${cantidad}. Saldo: ${saldo}`;
    },
    consultarSaldo: function () {
      return `Saldo actual: ${saldo}`;
    },
  };
}
```

### IIFE (Immediately Invoked Function Expression)

```javascript
// Función que se ejecuta inmediatamente
(function () {
  console.log("Esta función se ejecuta inmediatamente");
})();

// Con parámetros
(function (nombre) {
  console.log(`Hola, ${nombre}`);
})("Ana");

// Arrow function IIFE
(() => {
  console.log("IIFE con arrow function");
})();

// Uso común: crear scope privado
const modulo = (function () {
  const privado = "No puedes acceder a esto";

  return {
    publico: "Puedes acceder a esto",
    metodo: function () {
      return privado;
    },
  };
})();

console.log(modulo.publico); // "Puedes acceder a esto"
console.log(modulo.metodo()); // "No puedes acceder a esto"
```

### Recursión

```javascript
// Función que se llama a sí misma
function factorial(n) {
  if (n <= 1) return 1;
  return n * factorial(n - 1);
}
console.log(factorial(5)); // 120

// Fibonacci
function fibonacci(n) {
  if (n <= 1) return n;
  return fibonacci(n - 1) + fibonacci(n - 2);
}
console.log(fibonacci(7)); // 13

// Cuenta regresiva
function cuentaRegresiva(numero) {
  console.log(numero);
  if (numero > 0) {
    cuentaRegresiva(numero - 1);
  } else {
    console.log("¡Despegue!");
  }
}
cuentaRegresiva(5);
```

---

## Arrays (Arreglos)

### Creación de Arrays

```javascript
// Array
```
